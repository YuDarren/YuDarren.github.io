(function(){"use strict";var e={4001:function(e,t,o){var n=o(9242),a=o(3396);function s(e,t,o,n,s,r){const l=(0,a.up)("Login"),d=(0,a.up)("Header"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(n.token?n.isLogin:!n.isLogin)?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0),(n.token?!n.isLogin:n.isLogin)?((0,a.wg)(),(0,a.j4)(d,{key:1})):(0,a.kq)("",!0),(n.token?!n.isLogin:n.isLogin)?((0,a.wg)(),(0,a.j4)(u,{key:2})):(0,a.kq)("",!0)],64)}var r=o(7139);const l=e=>((0,a.dD)("data-v-26360074"),e=e(),(0,a.Cn)(),e),d={class:"head"},u={class:"head_left"},i=l((()=>(0,a._)("div",{class:"head_tit"},[(0,a._)("h2",null,"房屋後臺系統")],-1))),c={class:"head_btns"},m={class:"btn"},p=(0,a.Uk)("人事管理"),f={class:"btn"},g=(0,a.Uk)("物件管理"),I={class:"head_right"},w={class:"head_user"},h={class:"user_photo"},b={class:"user_info"},_={class:"user_name"},v={class:"user_jobtit"},y={class:"head_signout"},P={class:"so_photo"},A=l((()=>(0,a._)("div",{class:"so_name"},"sign out",-1)));function k(e,t,o,n,s,l){const k=(0,a.up)("router-link"),W=(0,a.up)("User"),U=(0,a.up)("el-icon"),F=(0,a.up)("Right");return(0,a.wg)(),(0,a.iD)("header",null,[(0,a._)("div",d,[(0,a._)("div",u,[i,(0,a._)("div",c,[(0,a._)("div",m,[(0,a.Wm)(k,{to:"/permission"},{default:(0,a.w5)((()=>[p])),_:1})]),(0,a._)("div",f,[(0,a.Wm)(k,{to:"/commodity"},{default:(0,a.w5)((()=>[g])),_:1})])])]),(0,a._)("div",I,[(0,a._)("div",w,[(0,a._)("div",h,[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W)])),_:1})]),(0,a._)("div",b,[(0,a._)("div",_,(0,r.zw)(n.userName),1),(0,a._)("div",v,(0,r.zw)(n.typeConst[n.userType]),1)])]),(0,a._)("div",y,[(0,a._)("div",{class:"signout_btn",onClick:t[0]||(t[0]=(...e)=>n.handSignOutBtn&&n.handSignOutBtn(...e))},[(0,a._)("div",P,[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(F)])),_:1})]),A])])])])])}var W=o(2748),U=o(6623);const F={0:"管理員",1:"業務主管",2:"業務員"};var C={components:{User:W.User,Right:W.Right},setup(){const e=(0,U.oR)(),t=F,o=localStorage.username,n=localStorage.type,a=()=>{e.dispatch("handSignOutSubmit")};return{handSignOutBtn:a,userName:o,userType:n,typeConst:t}}},V=o(89);const j=(0,V.Z)(C,[["render",k],["__scopeId","data-v-26360074"]]);var L=j;const q=e=>((0,a.dD)("data-v-677d8068"),e=e(),(0,a.Cn)(),e),E={class:"page"},O=q((()=>(0,a._)("div",{class:"login_tit"},"歡迎使用後台系統",-1))),z=(0,a.Uk)("登入");function S(e,t,o,s,r,l){const d=(0,a.up)("el-form-item"),u=(0,a.up)("el-input"),i=(0,a.up)("el-button"),c=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",E,[(0,a.Wm)(c,{ref:"ruleFormRef",model:s.ruleForm,"status-icon":"",rules:s.rules,class:"login","label-width":"auto","label-position":"top","hide-required-asterisk":"false",onKeyup:t[3]||(t[3]=(0,n.D2)((e=>s.handSubmit(s.ruleFormRef)),["enter"]))},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[O])),_:1}),(0,a.Wm)(d,{label:"帳號:",prop:"account",class:"item"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:s.ruleForm.account,"onUpdate:modelValue":t[0]||(t[0]=e=>s.ruleForm.account=e),type:"text",autocomplete:"off",maxlength:"8",placeholder:"輸入帳號",autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{label:"密碼:",prop:"pwd",class:"item"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:s.ruleForm.pwd,"onUpdate:modelValue":t[1]||(t[1]=e=>s.ruleForm.pwd=e),type:"text",autocomplete:"off",maxlength:"8",placeholder:"輸入密碼"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"item"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"primary",onClick:t[2]||(t[2]=e=>s.handSubmit(s.ruleFormRef))},{default:(0,a.w5)((()=>[z])),_:1})])),_:1})])),_:1},8,["model","rules"])])}var T=o(6866),x=o(4870),D=o(7178),R={setup(){const e=(0,U.oR)(),t=((0,T.tv)(),(0,x.iH)()),o=(0,x.qj)({account:"",pwd:""}),n=(0,x.qj)({account:[{required:!0,message:"請輸入帳號",trigger:"blur"},{pattern:/^[a-zA-Z0-9]*$/,message:"請輸入英文或數字",trigger:"blur"}],pwd:[{required:!0,message:"請輸入密碼",trigger:"blur"},{pattern:/^[a-zA-Z0-9]*$/,message:"請輸入英文或數字",trigger:"blur"}]}),a=async t=>{const n=o.account,a=o.pwd;if(e.commit("updateLoginInfoAcc",n),e.commit("updateLoginInfoPwd",a),t)try{await e.dispatch("handLoginSubmit"),(0,D.z8)({message:"登入成功",type:"success",customClass:"el-msg",duration:1e3})}catch(s){(0,D.z8)({message:s,type:"error",customClass:"el-msg",duration:1500})}};return{handSubmit:a,rules:n,ruleFormRef:t,ruleForm:o}}};const Z=(0,V.Z)(R,[["render",S],["__scopeId","data-v-677d8068"]]);var H=Z,$={components:{Header:L,Login:H},setup(){const e=(0,U.oR)(),t=(0,a.Fl)((()=>e.getters.isLogin)),o=localStorage.token;return{isLogin:t,token:o}}};const Y=(0,V.Z)($,[["render",s]]);var K=Y;const N={class:"per"},B={class:"per_haeder"},M={class:"per_btns"},G={class:"btn"},J=(0,a.Uk)("主管"),Q={class:"btn"},X=(0,a.Uk)("業務"),ee={class:"addinfo_btn"},te=(0,a.Uk)("新增");function oe(e,t,o,n,s,r){const l=(0,a.up)("router-link"),d=(0,a.up)("el-button"),u=(0,a.up)("AddPersonInfo"),i=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("nav",B,[(0,a._)("div",M,[(0,a._)("div",G,[(0,a.Wm)(l,{to:"/permission/supervisor"},{default:(0,a.w5)((()=>[J])),_:1})]),(0,a._)("div",Q,[(0,a.Wm)(l,{to:"/permission/employee"},{default:(0,a.w5)((()=>[X])),_:1})])]),(0,a._)("div",ee,[(0,a.Wm)(d,{color:"#0275b1",onClick:n.isAddInfoBtn},{default:(0,a.w5)((()=>[te])),_:1},8,["onClick"])])]),n.isAddInfo?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(i)])}const ne=e=>((0,a.dD)("data-v-46ed2530"),e=e(),(0,a.Cn)(),e),ae={class:"add_block"},se=ne((()=>(0,a._)("div",{class:"add_tit"},"新增人事資料",-1))),re=(0,a.Uk)("新增"),le=(0,a.Uk)("清除"),de=(0,a.Uk)("取消");function ue(e,t,o,n,s,r){const l=(0,a.up)("el-input"),d=(0,a.up)("el-form-item"),u=(0,a.up)("el-option"),i=(0,a.up)("el-select"),c=(0,a.up)("el-button"),m=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",ae,[(0,a.Wm)(m,{ref:"ruleFormRef",model:n.ruleForm,"status-icon":"",rules:n.rules,class:"add_window","label-width":"auto","label-position":"top"},{default:(0,a.w5)((()=>[se,(0,a.Wm)(d,{class:"add_input",label:"新增帳號",prop:"account"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.ruleForm.account,"onUpdate:modelValue":t[0]||(t[0]=e=>n.ruleForm.account=e),type:"text",autocomplete:"off",maxlength:"8"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_input",label:"新增密碼",prop:"pwd"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.ruleForm.pwd,"onUpdate:modelValue":t[1]||(t[1]=e=>n.ruleForm.pwd=e),type:"text",autocomplete:"off",maxlength:"8"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_input",label:"新增使用者名稱",prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.ruleForm.username,"onUpdate:modelValue":t[2]||(t[2]=e=>n.ruleForm.username=e),type:"text",autocomplete:"off",maxlength:"8"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_input",label:"新增職位",prop:"type"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:n.ruleForm.type,"onUpdate:modelValue":t[3]||(t[3]=e=>n.ruleForm.type=e),placeholder:"--請選擇職位--",clearable:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.options,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_btns"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{type:"primary",onClick:t[4]||(t[4]=e=>n.submitForm(n.ruleFormRef))},{default:(0,a.w5)((()=>[re])),_:1}),(0,a.Wm)(c,{onClick:t[5]||(t[5]=e=>n.resetForm(n.ruleFormRef))},{default:(0,a.w5)((()=>[le])),_:1}),(0,a.Wm)(c,{onClick:n.isAddInfoCancel},{default:(0,a.w5)((()=>[de])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])}var ie={setup(){const e=(0,U.oR)(),t=[{value:1,label:"業務主管"},{value:2,label:"業務員"}],o=(0,x.iH)(),n=(0,x.qj)({account:"",pwd:"",username:"",type:null}),a=(0,x.qj)({account:[{required:!0,message:"請輸入帳號",trigger:"blur"},{pattern:/^[a-zA-Z0-9]*$/,message:"請輸入英文或數字",trigger:"blur"}],pwd:[{required:!0,message:"請輸入密碼",trigger:"blur"},{pattern:/^[a-zA-Z0-9]*$/,message:"請輸入英文或數字",trigger:"blur"}],username:[{required:!0,message:"請輸入使用者名稱",trigger:"blur"},{pattern:/^[a-zA-Z0-9\u4e00-\u9fa5]*$/,message:"請勿使用特殊字元",trigger:"blur"}],type:[{required:!0,message:"請選擇職位",trigger:"blur"}]}),s=async t=>{const o=n.account,a=n.pwd,s=n.username,r=n.type;if(e.commit("AddPersonInfoAcc",o),e.commit("AddPersonInfoPwd",a),e.commit("AddPersonInfoUsername",s),e.commit("AddPersonInfoType",r),t)try{await e.dispatch("handAddUserInfo"),(0,D.z8)({message:"新增成功",type:"success",customClass:"el-msg"})}catch(l){console.log(l),(0,D.z8)({message:l,type:"error",customClass:"el-msg"})}},r=e=>{e&&e.resetFields()},l=()=>{e.dispatch("handAddInfoAction")};return{isAddInfoCancel:l,options:t,rules:a,resetForm:r,submitForm:s,ruleFormRef:o,ruleForm:n}}};const ce=(0,V.Z)(ie,[["render",ue],["__scopeId","data-v-46ed2530"]]);var me=ce,pe={components:{AddPersonInfo:me},setup(){const e=(0,U.oR)(),t=(0,T.tv)(),o=(0,a.Fl)((()=>e.getters.isAddInfo)),n=()=>{e.dispatch("handAddInfoAction")};return(0,a.bv)((()=>{e.dispatch("getUserInfoOne"),e.dispatch("getUserInfoTwo"),t.push("/permission/supervisor")})),{isAddInfo:o,isAddInfoBtn:n,open:open}}};const fe=(0,V.Z)(pe,[["render",oe],["__scopeId","data-v-440150d6"]]);var ge=fe;const Ie=e=>((0,a.dD)("data-v-bfa45eca"),e=e(),(0,a.Cn)(),e),we={class:"com"},he={class:"com_head"},be={class:"com_head_selectes"},_e={class:"chs"},ve=Ie((()=>(0,a._)("p",null,"縣市",-1))),ye={class:"chs"},Pe=Ie((()=>(0,a._)("p",null,"鄉鎮區",-1))),Ae={class:"chs"},ke=Ie((()=>(0,a._)("p",null,"房型",-1))),We={class:"chs"},Ue=Ie((()=>(0,a._)("p",null,"添加條件",-1))),Fe={class:"com_head_btns"},Ce=(0,a.Uk)("新增"),Ve=(0,a.Uk)("匯入"),je={class:"com_main"},Le=(0,a.Uk)("詳情"),qe=(0,a.Uk)("編輯");function Ee(e,t,o,n,s,r){const l=(0,a.up)("el-option"),d=(0,a.up)("el-select"),u=(0,a.up)("el-button"),i=(0,a.up)("el-table-column"),c=(0,a.up)("el-table");return(0,a.wg)(),(0,a.iD)("div",we,[(0,a._)("div",he,[(0,a._)("div",be,[(0,a._)("div",_e,[ve,(0,a.Wm)(d,{modelValue:n.ruleForm.city,"onUpdate:modelValue":t[0]||(t[0]=e=>n.ruleForm.city=e),class:"m-2",placeholder:"請選擇縣市",style:{width:"200px"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.twzip.city,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.name,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,a._)("div",ye,[Pe,(0,a.Wm)(d,{modelValue:n.ruleForm.area,"onUpdate:modelValue":t[1]||(t[1]=e=>n.ruleForm.area=e),class:"m-2",placeholder:"請選擇鄉鎮區",style:{width:"200px"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.twzip.area,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.name,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,a._)("div",Ae,[ke,(0,a.Wm)(d,{modelValue:n.ruleForm.house,"onUpdate:modelValue":t[2]||(t[2]=e=>n.ruleForm.house=e),class:"m-2",placeholder:"請選擇房型",style:{width:"200px"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.house,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,a._)("div",We,[Ue,(0,a.Wm)(d,{class:"m-2",modelValue:n.ruleForm.require,"onUpdate:modelValue":t[3]||(t[3]=e=>n.ruleForm.require=e),multiple:"",placeholder:"請選擇添加條件",style:{width:"200px"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.require,(e=>((0,a.wg)(),(0,a.j4)(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])]),(0,a._)("div",Fe,[(0,a.Wm)(u,{color:"#0275b1"},{default:(0,a.w5)((()=>[Ce])),_:1}),(0,a.Wm)(u,{color:"#0275b1"},{default:(0,a.w5)((()=>[Ve])),_:1})])]),(0,a._)("div",je,[(0,a.Wm)(c,{data:n.tableData,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{fixed:"",prop:"date",label:"日期",width:"200"}),(0,a.Wm)(i,{prop:"city",label:"城市",width:"200"}),(0,a.Wm)(i,{prop:"name",label:"鄉鎮區",width:"200"}),(0,a.Wm)(i,{prop:"state",label:"房型",width:"200"}),(0,a.Wm)(i,{prop:"address",label:"需求",width:"200"}),(0,a.Wm)(i,{fixed:"right",width:"120"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{link:"",type:"primary",size:"small"},{default:(0,a.w5)((()=>[Le])),_:1}),(0,a.Wm)(u,{link:"",type:"primary",size:"small"},{default:(0,a.w5)((()=>[qe])),_:1})])),_:1})])),_:1},8,["data"])])])}var Oe=o(6265),ze=o.n(Oe);const Se=ze().create({baseURL:"https://vue-lessons-api.herokuapp.com/"}),Te=()=>Se.get("/city/list");var xe={setup(){const e=(0,x.qj)({city:[],area:[]}),t=(0,x.qj)({city:"",area:"",house:"",require:""}),o=(0,x.qj)([{value:1,label:"整層住家"},{value:2,label:"獨立套房"},{value:3,label:"分租套房"},{value:4,label:"雅房"},{value:5,label:"車位"},{value:6,label:"其他"}]),n=(0,x.qj)([{value:1,label:"新上架"},{value:2,label:"近捷運"},{value:3,label:"可養寵物"},{value:4,label:"可開伙"},{value:5,label:"有車位"},{value:6,label:"有電梯"},{value:7,label:"有陽台"},{value:8,label:"可短期租賃"}]),s=(0,x.qj)([{date:"2022-09-03",name:"西區",state:"分租套房",city:"台中市",address:"新上架,可養寵物",zip:"CA 90036",tag:"Home"},{date:"2022-08-30",name:"中山區",state:"獨立套房",city:"台北市",address:"有陽台,可短期租賃",zip:"CA 90036",tag:"Office"},{date:"2022-09-10",name:"秀水鄉",state:"整層住家",city:"彰化縣",address:"有電梯,可養寵物,可開伙",zip:"CA 90036",tag:"Home"},{date:"2022-08-01",name:"板橋區",state:"雅房",city:"新北市",address:"近捷運,有電梯,有陽台",zip:"CA 90036",tag:"Office"}]);return(0,a.YP)((()=>t.city),(o=>{const n=e.city.filter((e=>e.name===o));t.area="",e.area=n[0].area})),(0,a.bv)((()=>{Te().then((t=>{e.city=t.data.twzip.city}))})),{twzip:e,ruleForm:t,house:o,require:n,tableData:s}}};const De=(0,V.Z)(xe,[["render",Ee],["__scopeId","data-v-bfa45eca"]]);var Re=De;const Ze={class:"home_main"};function He(e,t,o,n,s,r){return(0,a.wg)(),(0,a.iD)("div",Ze,"後臺系統切版")}var $e={};const Ye=(0,V.Z)($e,[["render",He],["__scopeId","data-v-1349784e"]]);var Ke=Ye;const Ne={class:"userinfo"},Be=(0,a.Uk)("編輯");function Me(e,t,o,n,s,l){const d=(0,a.up)("el-table-column"),u=(0,a.up)("el-button"),i=(0,a.up)("el-table"),c=(0,a.up)("EditPersonInfo");return(0,a.wg)(),(0,a.iD)("div",Ne,[(0,a.Wm)(i,{class:"table",data:n.personnelList,height:"800",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"id",prop:"id",label:"員工編號"}),(0,a.Wm)(d,{class:"username",prop:"username",label:"姓名"}),(0,a.Wm)(d,{class:"account",prop:"account",label:"帳號"}),(0,a.Wm)(d,{class:"type",prop:"type",label:"職位"},{default:(0,a.w5)((e=>[(0,a._)("div",null,(0,r.zw)(n.typeConst[e.row.type]),1)])),_:1}),(0,a.Wm)(d,{fixed:"right"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{color:"#626aef",plain:"",onClick:t=>n.handEditInfoAction(e.row)},{default:(0,a.w5)((()=>[Be])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),n.isEdit?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0)])}const Ge=e=>((0,a.dD)("data-v-e5d44108"),e=e(),(0,a.Cn)(),e),Je={class:"add_block"},Qe=Ge((()=>(0,a._)("div",{class:"add_tit"},"編輯資料",-1))),Xe=(0,a.Uk)("送出"),et=(0,a.Uk)("取消");function tt(e,t,o,n,s,r){const l=(0,a.up)("el-input"),d=(0,a.up)("el-form-item"),u=(0,a.up)("el-option"),i=(0,a.up)("el-select"),c=(0,a.up)("el-button"),m=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",Je,[(0,a.Wm)(m,{ref:"ruleFormRef",model:n.ruleForm,"status-icon":"",rules:n.rules,class:"add_window","label-width":"auto","label-position":"top"},{default:(0,a.w5)((()=>[Qe,(0,a.Wm)(d,{class:"add_input",label:"編輯帳號",prop:"account"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.ruleForm.account,"onUpdate:modelValue":t[0]||(t[0]=e=>n.ruleForm.account=e),type:"text",autocomplete:"off",maxlength:"8"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_input",label:"更改密碼",prop:"pwd"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.ruleForm.pwd,"onUpdate:modelValue":t[1]||(t[1]=e=>n.ruleForm.pwd=e),type:"text",autocomplete:"off",maxlength:"8",placeholder:"若密碼無須變更，不用輸入"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_input",label:"編輯使用者名稱",prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{modelValue:n.ruleForm.username,"onUpdate:modelValue":t[2]||(t[2]=e=>n.ruleForm.username=e),type:"text",autocomplete:"off",maxlength:"8"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_input",label:"編輯職位",prop:"type"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:n.ruleForm.type,"onUpdate:modelValue":t[3]||(t[3]=e=>n.ruleForm.type=e),placeholder:"--請選擇職位--",clearable:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.options,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(d,{class:"add_btns"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{type:"primary",onClick:t[4]||(t[4]=e=>n.submitForm(n.ruleFormRef))},{default:(0,a.w5)((()=>[Xe])),_:1}),(0,a.Wm)(c,{onClick:n.isEditInfoCancel},{default:(0,a.w5)((()=>[et])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])}var ot={setup(){const e=(0,U.oR)(),t=[{value:1,label:"業務主管"},{value:2,label:"業務員"}],o=(0,x.iH)(),n=(0,x.qj)({account:e.state.editPersonInfo.account,pwd:e.state.editPersonInfo.pwd,username:e.state.editPersonInfo.username,type:e.state.editPersonInfo.type}),a=(0,x.qj)({account:[{required:!0,message:"請輸入帳號",trigger:"blur"},{pattern:/^[a-zA-Z0-9]*$/,message:"請輸入英文或數字",trigger:"blur"}],pwd:[{required:!1,message:"請輸入密碼",trigger:"blur"},{pattern:/^[a-zA-Z0-9]*$/,message:"請輸入英文或數字",trigger:"blur"}],username:[{required:!0,message:"請輸入使用者名稱",trigger:"blur"},{pattern:/^[a-zA-Z0-9\u4e00-\u9fa5]*$/,message:"請勿使用特殊字元",trigger:"blur"}],type:[{required:!0,message:"請選擇職位",trigger:"blur"}]}),s=async t=>{const o=n.account,a=n.pwd,s=n.username,r=n.type;if(e.commit("editPersonInfoAcc",o),e.commit("editPersonInfoPwd",a),e.commit("editPersonInfoUsername",s),e.commit("editPersonInfoType",r),t)try{await e.dispatch("handEditUserInfo"),(0,D.z8)({message:"編輯成功",type:"success",customClass:"el-msg"})}catch(l){console.log(l),(0,D.z8)({message:l,type:"error",customClass:"el-msg"})}},r=()=>{e.dispatch("handEditInfoAction")};return{isEditInfoCancel:r,options:t,rules:a,submitForm:s,ruleFormRef:o,ruleForm:n}}};const nt=(0,V.Z)(ot,[["render",tt],["__scopeId","data-v-e5d44108"]]);var at=nt,st={components:{EditPersonInfo:at},setup(){const e=F,t=(0,U.oR)(),o=(0,a.Fl)((()=>t.getters.isEdit)),n=e=>{const o=e.id,n=e.account,a=e.username,s=e.type;t.commit("editPersonInfoID",o),t.commit("editPersonInfoAcc",n),t.commit("editPersonInfoUsername",a),t.commit("editPersonInfoType",s),t.dispatch("handEditInfoAction")};return{personnelList:(0,a.Fl)((()=>t.getters.personInfoTwo)),typeConst:e,isEdit:o,handEditInfoAction:n}}};const rt=(0,V.Z)(st,[["render",Me],["__scopeId","data-v-0c74ced6"]]);var lt=rt;const dt={class:"userinfo"},ut=(0,a.Uk)("編輯");function it(e,t,o,n,s,l){const d=(0,a.up)("el-table-column"),u=(0,a.up)("el-button"),i=(0,a.up)("el-table"),c=(0,a.up)("EditPersonInfo");return(0,a.wg)(),(0,a.iD)("div",dt,[(0,a.Wm)(i,{class:"table",data:n.personnelList,height:"800",style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"id",prop:"id",label:"員工編號"}),(0,a.Wm)(d,{class:"username",prop:"username",label:"姓名"}),(0,a.Wm)(d,{class:"account",prop:"account",label:"帳號"}),(0,a.Wm)(d,{class:"type",prop:"type",label:"職位"},{default:(0,a.w5)((e=>[(0,a._)("div",null,(0,r.zw)(n.typeConst[e.row.type]),1)])),_:1}),(0,a.Wm)(d,{fixed:"right"},{default:(0,a.w5)((e=>[(0,a.Wm)(u,{color:"#626aef",plain:"",onClick:t=>n.handEditInfoAction(e.row)},{default:(0,a.w5)((()=>[ut])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),n.isEdit?((0,a.wg)(),(0,a.j4)(c,{key:0})):(0,a.kq)("",!0)])}var ct={components:{EditPersonInfo:at},setup(){const e=F,t=(0,U.oR)(),o=(0,a.Fl)((()=>t.getters.isEdit)),n=e=>{const o=e.id,n=e.account,a=e.username,s=e.type;t.commit("editPersonInfoID",o),t.commit("editPersonInfoAcc",n),t.commit("editPersonInfoUsername",a),t.commit("editPersonInfoType",s),t.dispatch("handEditInfoAction")};return{personnelList:(0,a.Fl)((()=>t.getters.personInfoOne)),typeConst:e,isEdit:o,handEditInfoAction:n}}};const mt=(0,V.Z)(ct,[["render",it],["__scopeId","data-v-199c2000"]]);var pt=mt;const ft=[{path:"/",name:"home",component:Ke},{path:"/permission",name:"permission",component:ge,children:[{path:"employee",component:lt},{path:"supervisor",component:pt}]},{path:"/commodity",name:"commodity",component:Re},{path:"/addpersoninfo",name:"addpersoninfo",component:me}],gt=(0,T.p7)({history:(0,T.PO)("/housebs/"),routes:ft});var It=gt;const wt=ze().create({baseURL:"http://116.241.112.119:4862/"});wt.interceptors.response.use((function(e){return e}),(function(e){return 403===e.response.status&&Pt.dispatch("handCloseAllPage"),Promise.reject(e)}));const ht=e=>wt.post("/login",e),bt=e=>wt.get("/users/1",e),_t=e=>wt.get("/users/2",e),vt=(e,t)=>wt.post("/users",e,t),yt=(e,t)=>{const o=Pt.getters.editPersonInfoID;return wt.put(`/users/${o}`,e,t)};var Pt=(0,U.MT)({state:{isLogin:!1,isAddInfo:!1,isEdit:!1,loginInfo:{account:"",pwd:""},userInfo:{username:"",type:""},personInfoOne:[],personInfoTwo:[],taiwanInfo:[],addPersonInfo:{account:"",pwd:"",username:"",type:0},editPersonInfo:{id:0,account:"",pwd:"",username:"",type:0},editPersonInfoNopwd:{id:0,account:"",username:"",type:0},token:""},actions:{async handLoginSubmit(e){try{await ht(e.state.loginInfo).then((t=>{const o=t.data.token,n=t.data.username,a=t.data.type,s=!e.state.isLogin;e.commit("setUserInfo",{username:n,type:a}),e.commit("changeIsLogin",s),e.commit("setToken",o)}))}catch(t){if(1e3===t.response.data.code)return Promise.reject(t.response.data.msg);if(9e3===t.response.data.code)return Promise.reject("請輸入帳號或密碼")}},handSignOutSubmit(e){const t=!e.state.isLogin,o="",n="";e.commit("clearLocalStorage"),e.commit("updateLoginInfoAcc",o),e.commit("updateLoginInfoPwd",n),e.commit("changeIsLogin",t)},handCloseAllPage(e){const t=!1,o="",n="",a="",s=null;e.commit("clearLocalStorage"),e.commit("updateLoginInfoAcc",o),e.commit("updateLoginInfoPwd",n),e.commit("changeIsLogin",!t),e.commit("AddPersonInfoAcc",o),e.commit("AddPersonInfoPwd",n),e.commit("AddPersonInfoUsername",a),e.commit("AddPersonInfoType",s),e.commit("changeIsAddInfo",t),e.commit("changeIsEdit",t)},handAddInfoAction(e){const t=!e.state.isAddInfo,o="",n="",a="",s=null;e.commit("AddPersonInfoAcc",o),e.commit("AddPersonInfoPwd",n),e.commit("AddPersonInfoUsername",a),e.commit("AddPersonInfoType",s),e.commit("changeIsAddInfo",t)},async handAddUserInfo(e){try{await vt(this.state.addPersonInfo,{headers:{Authorization:localStorage.token}});const t=!e.state.isAddInfo,o="",n="",a="",s=null;e.commit("AddPersonInfoAcc",o),e.commit("AddPersonInfoPwd",n),e.commit("AddPersonInfoUsername",a),e.commit("AddPersonInfoType",s),e.commit("changeIsAddInfo",t),e.dispatch("getUserInfoOne"),e.dispatch("getUserInfoTwo")}catch(t){return 2e3===t.response.data.code?Promise.reject("新增失敗，帳號已存在"):Promise.reject("欄位不得為空")}},handEditInfoAction(e){const t=!e.state.isEdit;e.commit("changeIsEdit",t)},async handEditUserInfo(e){const t=e.state.editPersonInfo;try{await yt(t,{headers:{Authorization:localStorage.token}});const o=!e.state.isEdit,n="";e.commit("changeIsEdit",o),e.commit("editPersonInfoPwd",n),e.dispatch("getUserInfoOne"),e.dispatch("getUserInfoTwo")}catch(o){return 2e3===o.response.data.code?Promise.reject("編輯失敗，帳號已存在"):Promise.reject("欄位不得為空")}},getUserInfoOne(e){bt({headers:{Authorization:localStorage.token}}).then((t=>{const o=t.data;e.commit("updatePersonInfoOne",o)}))},getUserInfoTwo(e){_t({headers:{Authorization:localStorage.token}}).then((t=>{const o=t.data;e.commit("updatePersonInfoTwo",o)}))}},mutations:{updateLoginInfoAcc(e,t){e.loginInfo.account=t},updateLoginInfoPwd(e,t){e.loginInfo.pwd=t},updatePersonInfoOne(e,t){e.personInfoOne=t},updatePersonInfoTwo(e,t){e.personInfoTwo=t},getTaiwanInfo(e,t){e.taiwanInfo=t},AddPersonInfoAcc(e,t){e.addPersonInfo.account=t},AddPersonInfoPwd(e,t){e.addPersonInfo.pwd=t,console.log("vuex.add.pwd =>",e.addPersonInfo.pwd)},AddPersonInfoUsername(e,t){e.addPersonInfo.username=t},AddPersonInfoType(e,t){e.addPersonInfo.type=t},editPersonInfoID(e,t){e.editPersonInfo.id=t},editPersonInfoAcc(e,t){e.editPersonInfo.account=t,e.editPersonInfoNopwd.account=t},editPersonInfoPwd(e,t){e.editPersonInfo.pwd=t},editPersonInfoUsername(e,t){e.editPersonInfo.username=t,e.editPersonInfoNopwd.username=t},editPersonInfoType(e,t){e.editPersonInfo.type=t,e.editPersonInfoNopwd.type=t},setToken(e,t){localStorage.setItem("token",t),e.token=t},setUserInfo(e,{username:t,type:o}){localStorage.setItem("username",t),localStorage.setItem("type",o),e.userInfo.username=t,e.userInfo.type=o},clearLocalStorage(){localStorage.clear()},changeIsLogin(e,t){e.isLogin=t},changeIsAddInfo(e,t){e.isAddInfo=t},changeIsEdit(e,t){e.isEdit=t}},getters:{isLogin(e){return e.isLogin},isAddInfo(e){return e.isAddInfo},isEdit(e){return e.isEdit},loginInfoAcc(e){return e.loginInfo.account},loginInfoPwd(e){return e.loginInfo.pwd},userInfoUsername(e){return e.userInfo.username},userInfoUsertype(e){return e.userInfo.type},personInfoOne(e){return e.personInfoOne},personInfoTwo(e){return e.personInfoTwo},editPersonInfoID(e){return e.editPersonInfo.id},addPersonInfo(e){return e.addPersonInfo},addPersonInfoAcc(e){return e.addPersonInfo.account},addPersonInfoPwd(e){return e.addPersonInfo.pwd},addPersonInfoUsername(e){return e.addPersonInfo.username},addPersonInfoType(e){return e.addPersonInfo.type},token(e){return e.token}}}),At=o(5);o(4415);const kt=(0,n.ri)(K);for(const[Wt,Ut]of Object.entries(W))kt.component(Wt,Ut);kt.use(Pt).use(At.Z).use(It).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,s){if(!n){var r=1/0;for(i=0;i<e.length;i++){n=e[i][0],a=e[i][1],s=e[i][2];for(var l=!0,d=0;d<n.length;d++)(!1&s||r>=s)&&Object.keys(o.O).every((function(e){return o.O[e](n[d])}))?n.splice(d--,1):(l=!1,s<r&&(r=s));if(l){e.splice(i--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[n,a,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,r=n[0],l=n[1],d=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(d)var i=d(o)}for(t&&t(n);u<r.length;u++)s=r[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(i)},n=self["webpackChunkbackendsystem"]=self["webpackChunkbackendsystem"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(4001)}));n=o.O(n)})();
//# sourceMappingURL=app.c3b69792.js.map